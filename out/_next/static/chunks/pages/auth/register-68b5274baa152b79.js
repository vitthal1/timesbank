(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6659:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return a(2377)}])},1134:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var r=a(7294);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:d="",children:u,iconNode:m,...h}=e;return(0,r.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:a,strokeWidth:l?24*Number(n)/Number(s):n,className:o("lucide",d),...!u&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,r.forwardRef)((a,n)=>{let{className:i,...c}=a;return(0,r.createElement)(d,{ref:n,iconNode:t,className:o("lucide-".concat(s(l(e))),"lucide-".concat(e),i),...c})});return a.displayName=l(e),a}},8865:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8655:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3832:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},5928:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3432:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2126:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3416:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(1134).Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2377:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var r=a(5893),s=a(7294),n=a(3832),l=a(5928),o=a(8655),i=a(8865),c=a(3416),d=a(1134);let u=(0,d.Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),m=(0,d.Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var h=a(2126);let p=(0,d.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),x=(0,d.Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var f=a(3432);let g={auth:{signUp:async e=>(await new Promise(e=>setTimeout(e,2e3)),{data:{user:{id:"123",email:e.email}},error:null}),onAuthStateChange:e=>({data:{subscription:{unsubscribe:()=>{}}}})}},w=e=>{let t=0;return e.length>=8&&t++,/[a-z]/.test(e)&&t++,/[A-Z]/.test(e)&&t++,/\d/.test(e)&&t++,/[^a-zA-Z\d]/.test(e)&&t++,{score:Math.min(t,5),message:["Too weak","Weak","Fair","Good","Strong"][Math.min(t,4)],color:["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"][Math.min(t,4)]}},b=e=>{let[t,a]=(0,s.useState)(e),[r,n]=(0,s.useState)({}),[l,o]=(0,s.useState)(0),[i,c]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=["name","email","username","password"];o(e.filter(e=>{var a;return null===(a=t[e])||void 0===a?void 0:a.trim()}).length/e.length*100)},[t]);let d=(0,s.useCallback)((e,t)=>{a(a=>({...a,[e]:t})),c(t=>({...t,[e]:!0})),r[e]&&n(t=>{let{[e]:a,...r}=t;return r})},[r]),u=(0,s.useCallback)(()=>{let e={};if((!t.name.trim()||t.name.trim().length<2)&&(e.name="Full name must be at least 2 characters"),!t.username.trim()||t.username.trim().length<3?e.username="Username must be at least 3 characters":/^[a-zA-Z0-9_]+$/.test(t.username.trim())||(e.username="Username can only contain letters, numbers, and underscores"),t.email.trim()&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email.trim())||(e.email="Please enter a valid email address"),!t.password.trim()||t.password.trim().length<8)e.password="Password must be at least 8 characters";else{let a=w(t.password.trim());a.score<3&&(e.password="Password is ".concat(a.message.toLowerCase(),". Add uppercase, numbers, and symbols."))}return t.phone&&t.phone.trim()&&!/^[\d\s\+\-\(\)]+$/.test(t.phone.trim())&&(e.phone="Please enter a valid phone number"),e},[t]);return{data:t,updateField:d,errors:r,setErrors:n,progress:l,validate:u,touched:i,setTouched:c}},y=()=>{let[e,t]=(0,s.useState)(!1),[a,r]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),[o,i]=(0,s.useState)(""),c=(0,s.useCallback)(()=>{if(!navigator.geolocation){l("Geolocation is not supported by your browser");return}r(!0),l(null),navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:a}=e.coords;try{var s,n,o,c,d;let e=await fetch("https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(t,"&lon=").concat(a,"&zoom=10"),{headers:{"User-Agent":"RegistrationApp/1.0"}});if(!e.ok)throw Error("Failed to fetch location");let l=await e.json(),u=(null===(s=l.address)||void 0===s?void 0:s.city)||(null===(n=l.address)||void 0===n?void 0:n.town)||(null===(o=l.address)||void 0===o?void 0:o.village)||"Unknown",m=(null===(c=l.address)||void 0===c?void 0:c.state)||"",h=(null===(d=l.address)||void 0===d?void 0:d.country)||"",p=[u,m,h].filter(Boolean).join(", ");i(p),r(!1)}catch(e){l("Could not retrieve location. Please enter manually."),r(!1)}},e=>{let t="Failed to get location.";switch(e.code){case e.PERMISSION_DENIED:t="Location access denied. Please enter manually.";break;case e.POSITION_UNAVAILABLE:t="Location unavailable. Please enter manually.";break;case e.TIMEOUT:t="Location request timed out."}l(t),r(!1)},{timeout:1e4,enableHighAccuracy:!1})},[]);return{consent:e,setConsent:(0,s.useCallback)(e=>{t(e),e?c():(i(""),l(null))},[c]),isFetching:a,error:n,location:o}};function v(e){let{label:t,id:a,type:s="text",value:i,onChange:c,onBlur:d,placeholder:u,error:m,touched:h,icon:p,isPasswordField:x=!1,showPassword:f,onTogglePassword:g,strength:w,required:b=!1}=e,y=h&&m;return(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("label",{htmlFor:a,className:"flex items-center gap-1 text-sm font-medium text-white",children:[t," ",b&&(0,r.jsx)("span",{className:"text-red-300",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[p&&(0,r.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-white/50",children:(0,r.jsx)(p,{size:18})}),(0,r.jsx)("input",{id:a,type:x&&!f?"password":s,value:i,onChange:e=>c(e.target.value),onBlur:d,className:"w-full bg-white/10 border rounded-lg py-2.5 px-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 transition-all ".concat(p?"pl-10":""," ").concat(x?"pr-10":""," ").concat(y?"border-red-400 focus:ring-red-400":"border-white/20 focus:ring-blue-400 focus:border-blue-400"),placeholder:u,"aria-invalid":y,"aria-describedby":y?"".concat(a,"-error"):void 0,required:b}),x&&(0,r.jsx)("button",{type:"button",onClick:g,className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/50 hover:text-white transition-colors","aria-label":f?"Hide password":"Show password",tabIndex:-1,children:f?(0,r.jsx)(n.Z,{size:18}):(0,r.jsx)(l.Z,{size:18})})]}),x&&w&&i&&(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full transition-all duration-300 ".concat(w.color),style:{width:"".concat(w.score/5*100,"%")}})}),(0,r.jsx)("p",{className:"text-xs text-white/70",children:w.message})]}),y&&(0,r.jsxs)("div",{className:"flex items-start gap-1.5 text-red-300 text-xs",role:"alert",children:[(0,r.jsx)(o.Z,{size:14,className:"mt-0.5 flex-shrink-0"}),(0,r.jsx)("span",{children:m})]})]})}function j(e){let{email:t,onGoToLogin:a}=e;return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-4",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 w-full max-w-md shadow-2xl text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(i.Z,{size:32,className:"text-white"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-3",children:"Check Your Email"}),(0,r.jsx)("p",{className:"text-white/80 mb-2",children:"We've sent a verification link to:"}),(0,r.jsx)("p",{className:"text-white font-semibold mb-6 break-all",children:t}),(0,r.jsx)("p",{className:"text-white/70 text-sm mb-8",children:"Click the link in the email to verify your account and complete registration."}),(0,r.jsx)("button",{onClick:a,className:"w-full bg-white/20 hover:bg-white/30 text-white font-semibold py-3 rounded-lg transition-colors",children:"Go to Login"})]})})}function k(){let{data:e,updateField:t,errors:a,setErrors:n,progress:l,validate:i,touched:d,setTouched:k}=b({name:"",email:"",username:"",password:"",phone:"",location:""}),[N,C]=(0,s.useState)(!1),[Z,A]=(0,s.useState)(!1),[P,z]=(0,s.useState)(!1),[S,E]=(0,s.useState)({score:0,message:"",color:""}),{consent:M,setConsent:_,isFetching:L,error:B,location:U}=y();(0,s.useEffect)(()=>{e.password&&E(w(e.password))},[e.password]),(0,s.useEffect)(()=>{U&&t("location",U)},[U,t]);let q=e=>{k(t=>({...t,[e]:!0}))},F=async t=>{var a,r,s;t.preventDefault(),k({name:!0,email:!0,username:!0,password:!0,phone:!0,location:!0});let l=i();if(Object.keys(l).length>0){n(l);let e=Object.keys(l)[0];null===(a=document.getElementById(e))||void 0===a||a.focus();return}A(!0),n({});try{let{error:t}=await g.auth.signUp({email:e.email.trim(),password:e.password.trim(),options:{data:{name:e.name.trim(),username:e.username.trim(),phone:(null===(r=e.phone)||void 0===r?void 0:r.trim())||null,location:M&&(null===(s=e.location)||void 0===s?void 0:s.trim())?e.location.trim():null}}});if(t){n({general:t.message||"Registration failed. Please try again."});return}z(!0)}catch(e){n({general:"An unexpected error occurred. Please try again."})}finally{A(!1)}};return P?(0,r.jsx)(j,{email:e.email,onGoToLogin:()=>console.log("Navigate to login")}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 via-purple-600 to-pink-500 p-4",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-xl rounded-2xl p-8 w-full max-w-md shadow-2xl border border-white/20",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,r.jsx)("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:(0,r.jsx)(c.Z,{size:24,className:"text-white"})})}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-2 text-center",children:"Create Account"}),(0,r.jsx)("p",{className:"text-white/70 text-center mb-6 text-sm",children:"Join us today and get started"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("div",{className:"relative w-full bg-white/10 rounded-full h-2 overflow-hidden",children:(0,r.jsx)("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-purple-400 transition-all duration-500 ease-out rounded-full",style:{width:"".concat(l,"%")}})}),(0,r.jsxs)("p",{className:"text-white/60 text-xs text-center mt-2",children:[Math.round(l),"% complete"]})]}),(0,r.jsxs)("div",{className:"space-y-4",onSubmit:F,children:[(0,r.jsx)(v,{label:"Full Name",id:"name",value:e.name,onChange:e=>t("name",e),onBlur:()=>q("name"),placeholder:"John Doe",error:a.name,touched:d.name,icon:u,required:!0}),(0,r.jsx)(v,{label:"Username",id:"username",value:e.username,onChange:e=>t("username",e),onBlur:()=>q("username"),placeholder:"johndoe",error:a.username,touched:d.username,icon:u,required:!0}),(0,r.jsx)(v,{label:"Email",id:"email",type:"email",value:e.email,onChange:e=>t("email",e),onBlur:()=>q("email"),placeholder:"your@email.com",error:a.email,touched:d.email,icon:m,required:!0}),(0,r.jsx)(v,{label:"Password",id:"password",value:e.password,onChange:e=>t("password",e),onBlur:()=>q("password"),placeholder:"••••••••",error:a.password,touched:d.password,icon:h.Z,isPasswordField:!0,showPassword:N,onTogglePassword:()=>C(e=>!e),strength:S,required:!0}),(0,r.jsx)(v,{label:"Phone",id:"phone",type:"tel",value:e.phone||"",onChange:e=>t("phone",e),onBlur:()=>q("phone"),placeholder:"+1 (555) 123-4567",error:a.phone,touched:d.phone,icon:p}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(v,{label:"Location",id:"location",value:e.location||"",onChange:e=>t("location",e),onBlur:()=>q("location"),placeholder:"City, State, Country",error:a.location||B,touched:d.location,icon:x}),(0,r.jsxs)("div",{className:"flex items-start gap-2 pl-1",children:[(0,r.jsx)("input",{id:"location-consent",type:"checkbox",checked:M,onChange:e=>_(e.target.checked),className:"mt-1 h-4 w-4 text-blue-500 focus:ring-2 focus:ring-blue-400 border-white/30 rounded cursor-pointer"}),(0,r.jsxs)("label",{htmlFor:"location-consent",className:"text-xs text-white/70 cursor-pointer select-none leading-relaxed",children:["Auto-detect my location for convenience. View our"," ",(0,r.jsx)("span",{className:"text-blue-300 hover:text-blue-200 underline cursor-pointer",children:"Privacy Policy"})]})]}),L&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-300 text-xs pl-1",children:[(0,r.jsx)(f.Z,{size:14,className:"animate-spin"}),(0,r.jsx)("span",{children:"Detecting location..."})]})]}),a.general&&(0,r.jsxs)("div",{className:"bg-red-500/20 border border-red-400/50 text-white px-4 py-3 rounded-lg text-sm flex items-start gap-2",role:"alert",children:[(0,r.jsx)(o.Z,{size:18,className:"flex-shrink-0 mt-0.5"}),(0,r.jsx)("span",{children:a.general})]}),(0,r.jsx)("button",{type:"button",onClick:F,disabled:Z||l<100,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-semibold py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg",children:Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{size:20,className:"animate-spin"}),(0,r.jsx)("span",{children:"Creating account..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{size:20}),(0,r.jsx)("span",{children:"Create Account"})]})})]}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsxs)("p",{className:"text-white/70 text-sm",children:["Already have an account?"," ",(0,r.jsx)("span",{className:"text-blue-300 hover:text-blue-200 font-medium underline cursor-pointer",children:"Sign in"})]})})]})})}function N(){return(0,r.jsx)(k,{})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6659)}),_N_E=e.O()}]);