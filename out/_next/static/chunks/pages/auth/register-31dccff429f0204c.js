(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{6659:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return s(6169)}])},9263:function(e,t,s){"use strict";s.d(t,{O:function(){return n}});var r=s(1543);let a="https://eokrnauyrkhbgzzamnfk.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVva3JuYXV5cmtoYmd6emFtbmZrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk1MDAzMTEsImV4cCI6MjA3NTA3NjMxMX0.QquyljjO3mJ17s5RlQhbuUgaJB3AGkU9kzBn-UXtX_4";if(!a||!l)throw Error("Missing Supabase environment variables");let n=(0,r.eI)(a,l)},6169:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(5893),a=s(7294),l=s(1163),n=s(9263);function i(){let[e,t]=(0,a.useState)({email:"",username:"",password:"",bio:"",phone:"",location:""}),[s,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)({}),[u,d]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),x=(0,l.useRouter)();(0,a.useEffect)(()=>{let{data:e}=n.O.auth.onAuthStateChange((e,t)=>{"SIGNED_IN"===e&&t&&(console.log("User signed in:",t.user),x.push("/dashboard"))});return()=>{e.subscription.unsubscribe()}},[x]);let p=()=>{let t={};return(!e.username||e.username.length<3)&&(t.username="Username must be at least 3 characters"),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Valid email is required"),(!e.password||e.password.length<6)&&(t.password="Password must be at least 6 characters"),t},b=async t=>{t.preventDefault();let s=p();if(Object.keys(s).length>0){c(s);return}d(!0),c({});try{let{data:t,error:s}=await n.O.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback"),data:{username:e.username,bio:e.bio,phone:e.phone,location:e.location}}});if(s){console.error("Signup error:",s),c({general:s.message}),d(!1);return}console.log("Signup successful:",t),h(!0),d(!1)}catch(e){console.error("Registration error:",e),c({general:"Registration failed. Please try again."}),d(!1)}},g=(e,s)=>{t(t=>({...t,[e]:s})),c(t=>{let{[e]:s,...r}=t;return r})};return m?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-500",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 w-full max-w-md shadow-2xl",children:[(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-400/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-green-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Check Your Email!"})]}),(0,r.jsxs)("p",{className:"text-white/90 text-center mb-6",children:["We've sent a confirmation link to ",(0,r.jsx)("strong",{className:"text-white",children:e.email})]}),(0,r.jsx)("div",{className:"bg-blue-500/20 border border-blue-300/30 rounded-lg p-4 mb-6",children:(0,r.jsx)("p",{className:"text-white/80 text-sm text-center",children:"Click the link in your email to activate your account and get started!"})}),(0,r.jsxs)("div",{className:"space-y-3 text-white/70 text-sm",children:[(0,r.jsxs)("p",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDCE7"}),(0,r.jsx)("span",{children:"Check your inbox (and spam folder)"})]}),(0,r.jsxs)("p",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-2",children:"⏱️"}),(0,r.jsx)("span",{children:"The link expires in 24 hours"})]}),(0,r.jsxs)("p",{className:"flex items-start",children:[(0,r.jsx)("span",{className:"mr-2",children:"\uD83D\uDD04"}),(0,r.jsx)("span",{children:"Didn't receive it? Check your email and try again"})]})]}),(0,r.jsx)("button",{onClick:()=>{h(!1),t({email:"",username:"",password:"",bio:"",phone:"",location:""})},className:"w-full mt-6 text-white/70 hover:text-white text-sm underline",children:"Back to registration"})]})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-600 to-purple-500",children:(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 w-full max-w-md shadow-2xl",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Register"}),(0,r.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-white mb-2 text-sm font-medium",children:"Username"}),(0,r.jsx)("input",{id:"username",type:"text",value:e.username,onChange:e=>g("username",e.target.value),className:"w-full bg-white/10 border rounded-lg py-3 px-4 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 ".concat(o.username?"border-red-400":"border-white/20"),placeholder:"johndoe"}),o.username&&(0,r.jsx)("p",{className:"text-red-300 text-xs mt-1",children:o.username})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-white mb-2 text-sm font-medium",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:e.email,onChange:e=>g("email",e.target.value),className:"w-full bg-white/10 border rounded-lg py-3 px-4 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 ".concat(o.email?"border-red-400":"border-white/20"),placeholder:"your@email.com"}),o.email&&(0,r.jsx)("p",{className:"text-red-300 text-xs mt-1",children:o.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-white mb-2 text-sm font-medium",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{id:"password",type:s?"text":"password",value:e.password,onChange:e=>g("password",e.target.value),className:"w-full bg-white/10 border rounded-lg py-3 px-4 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 pr-10 ".concat(o.password?"border-red-400":"border-white/20"),placeholder:"••••••••"}),(0,r.jsx)("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/60 hover:text-white",children:s?"\uD83D\uDC41️":"\uD83D\uDC41️‍\uD83D\uDDE8️"})]}),o.password&&(0,r.jsx)("p",{className:"text-red-300 text-xs mt-1",children:o.password})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bio",className:"block text-white mb-2 text-sm font-medium",children:"Bio (Optional)"}),(0,r.jsx)("textarea",{id:"bio",value:e.bio,onChange:e=>g("bio",e.target.value),rows:3,className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 resize-none",placeholder:"Tell us about yourself..."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"phone",className:"block text-white mb-2 text-sm font-medium",children:"Phone (Optional)"}),(0,r.jsx)("input",{id:"phone",type:"tel",value:e.phone,onChange:e=>g("phone",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"location",className:"block text-white mb-2 text-sm font-medium",children:"Location (Optional)"}),(0,r.jsx)("input",{id:"location",type:"text",value:e.location,onChange:e=>g("location",e.target.value),className:"w-full bg-white/10 border border-white/20 rounded-lg py-3 px-4 text-white placeholder-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"City, State"})]}),o.general&&(0,r.jsx)("div",{className:"bg-red-500/20 border border-red-400 text-white px-4 py-3 rounded-lg text-sm",children:o.general}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white font-semibold py-3 rounded-lg hover:opacity-90 transition disabled:opacity-50",children:u?"Creating account...":"Register"})]}),(0,r.jsxs)("p",{className:"text-white/70 text-center mt-6 text-sm",children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/auth/login",className:"text-blue-200 hover:text-white font-medium underline",children:"Login"})]})]})})}function o(){return(0,r.jsx)(i,{})}},1163:function(e,t,s){e.exports=s(3079)}},function(e){e.O(0,[543,888,774,179],function(){return e(e.s=6659)}),_N_E=e.O()}]);